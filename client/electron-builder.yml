appId: com.zzy.rosgroundcontrol
productName: ROS-Ground-Control
directories:
  output: dist
files:
  - out/**/*
extraResources:
  - from: "resources/dist"
    to: "dist"
    filter:
      - "**/*"

asar: true

# --- Windows 配置 ---
win:
  target: nsis
  icon: resources/icon.ico
  artifactName: ${productName}-Setup-${version}.${ext}

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: RGC
  installerIcon: resources/icon.ico
  uninstallerIcon: resources/icon.ico
  installerHeaderIcon: resources/icon.ico
  deleteAppDataOnUninstall: true

# --- Linux 配置 ---
linux:
  target:
    - target: deb
      arch:
        - x64
    - target: AppImage
      arch:
        - x64
  icon: resources/icons
  category: Development
  executableName: ros-ground-control # 这是一个关键设置
  artifactName: ${productName}-${version}.${ext}

  # [修改 3] 修复 Deb 包图标不显示的关键配置
  desktop:
    StartupWMClass: ros-ground-control # 必须与 executableName 一致
    Name: ROS Ground Control
    Comment: ROS Management Client