# ROS Ground Control (ROS 桌面管理终端)

**ROS Ground Control** 是一款专为 ROS 1 (Noetic) 机器人设计的跨平台桌面运维管理软件。采用 C/S 架构，通过现代化的 UI 界面，实现对多台机器人的远程监控、文件编辑、进程管理、日志查看及数据可视化。

> **核心理念**：让 ROS 机器人的部署、调试与运维像操作本地电脑一样简单。

---

## ✨ 核心功能

### 1. 🤖 多机器人集群管理
*   **自动发现**：基于 mDNS (Avahi) 自动扫描局域网内的机器人。
*   **状态监控**：实时查看 CPU/内存占用、Roscore 及 Bridge 服务状态。
*   **会话互斥**：引入 **Session 锁机制**，防止多人同时操作同一台机器人导致冲突。

### 2. 🚀 可视化进程管理 (Dashboard)
*   **节点控制**：一键启动/停止 ROS 节点 (`roslaunch`)，支持查看实时状态。
*   **启动序列**：支持编排节点启动顺序和延时，实现“全系统一键启动”。
*   **参数配置**：图形化界面修改 Launch 文件参数。


### 3. 📝 远程文件编辑器 (IDE)
*   **独立窗口**：支持多标签页、多会话的独立编辑器窗口，类 VS Code 体验。
*   **远程读写**：直接编辑机器人上的代码、配置文件（XML, YAML, Py, C++ 等）。
*   **权限管理**：支持 **Sudo 提权** 保存文件（基于 RSA 加密传输密码）。
*   **文件传输**：支持拖拽上传文件、下载文件，以及跨机器人的文件复制/粘贴。

### 4. 📊 实时数据监控 (Topic Monitor)
*   **Foxglove 集成**：基于 Foxglove Bridge 高效传输二进制数据。
*   **自定义布局**：可拖拽的栅格化布局，支持保存/重置工作台。
*   **多类型展示**：
    *   **图像流**：低延迟查看摄像头/深度图数据。
    *   **数据流**：JSON 树状结构查看复杂消息，支持折叠/展开。

### 5. 💻 终端与日志
*   **Web Terminal**：全功能远程终端 (xterm.js)，支持 PTY 伪终端，完美显示颜色和进度条。
*   **日志聚合**：按节点分类查看 `stdout/stderr`，支持 ANSI 颜色渲染。

### 6. 📼 Rosbag 录制与回放
*   **远程录制**：指定话题、自动分割文件、设置存储路径。
*   **远程回放**：支持倍速、循环、暂停/继续控制。

### 7. 🛠 自动化部署
*   **一键安装**：通过 SSH 连接裸机，根据架构 (AMD64/ARM64) 上传 Agent 二进制文件。
*   **环境配置**：自动安装 `foxglove-bridge`, `avahi-daemon`等依赖，并配置 Systemd 守护进程。

---

![](img/2025-12-01%2021-07-19%20的屏幕截图.png)

---

![](img/2025-12-01%2021-07-13%20的屏幕截图.png)

---

![](img/2025-12-01%2021-07-32%20的屏幕截图.png)

---

![](img/2025-12-01%2021-07-32%20的屏幕截图.png)

---

## 🏗 技术架构

本项目采用 **Client-Server (C/S)** 分离架构：

### 服务端 (Agent)
*   **运行环境**：机器人端 (Ubuntu 20.04 / Linux)。
*   **语言**：Go。
*   **职责**：
    *   守护进程，通过 Systemd 托管。
    *   提供 HTTP RESTful API (文件、进程、系统信息)。
    *   提供 WebSocket 服务 (日志流、TTY 终端)。
    *   管理后台服务 (Foxglove Bridge, Roscore)。
    *   鉴权 (Session Token + RSA)。

### 客户端 (Client)
*   **运行环境**：操作员电脑 (Windows / Linux)。
*   **技术栈**：Electron + Vue 3 + Element Plus + Pinia。
*   **职责**：
    *   用户交互界面。
    *   数据可视化 (xterm.js, grid-layout)。
    *   SSH / mDNS 扫描与部署工具。

---

## 📦 安装与使用

### 前置要求
*   **机器人端**：Ubuntu 20.04 (安装了 ROS Noetic)。
*   **操作员端**：任何支持 Electron 的操作系统。

### 方式一：客户端一键部署 (推荐)
1.  下载并运行 **ROS Ground Control** 客户端。
2.  在连接页面点击 **“新建连接” -> “首次连接(部署)”**。
3.  输入机器人的 SSH 账号密码。
4.  勾选“安装 Foxglove Bridge”，点击部署。软件将自动完成所有配置。

### 方式二：手动运行 Agent
如果无法使用 SSH 部署，可手动在机器人上运行：
```bash
# 1. 下载对应架构的 agent 二进制文件
# 2. 赋予执行权限
chmod +x ros-ground-control
# 3. 运行
./ros-ground-control
```
*注意：手动运行需自行确保 avahi-daemon 和 foxglove-bridge 已安装。*

---

## 🛠 TODO

- [ ] 实现三维可视化轨迹、点云、栅格地图等
- [ ] 可能的Bug修复


---

## 🔒 安全说明

*   **Token 鉴权**：连接时需通过 WebSocket 握手获取 Session Token，后续所有 API 请求均需携带此 Token。同一时间仅允许一个客户端控制，避免冲突。
*   **RSA 提权**：涉及系统敏感操作（如写入系统文件）时，需提供 Sudo 密码。密码在前端使用 RSA 公钥加密，仅在 Agent 端内存中解密，确保传输安全。

---

## 📄 许可证

本项目基于 [MIT 许可证](LICENSE) 开源。